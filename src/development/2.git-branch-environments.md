# Git Branches and Environments

## Branches

### trunk

* Main branch of the repo
* Auto deploy to the `stage` environment
* Pull Request require checks(SonarClould, code review)

### develop

* Playground for developer
* Auto deploy to the `sandbox` environment
* Do not require pull request checks. Developer can push to `develop` branch whenever needed, including debug codes

### feature/bugfix/hotfix branch

* Temporary branch
* Used for development
* Auto deleted after pull request get merged
* Naming convention `{prefix}/{JIRA story code}/{JIRA story title}`
  * `feature/CORE-1234/Example-feature-core-story`
  * `bugfix/AV2-123/Example-bugfix-app-story`
  * `hotfix/CUT-123/Example-hotfix-cutie-story`

### release branch

* Temporary branch
* Used for release
* Deleted after release
* Naming convention `release/{version}`
  * `release/1.3.5`

## Environments

### Live

* Production environment
* Deployed from tag release

### Stage

* Deployed from `trunk` branch
* Configuration same as live environment
* Connect to Stage Global Login service
* Mainly used as testing environment for QA

### Sandbox

* Deployed from `develop` branch
* Connect to Stage Login service
* Disable global login for CORE (so that we donâ€™t need to do MFA)
* Mainly used as a playground for developers

## Development workflows

* Create release branch
  * At the time we release a new version, a release branch for the next version will be created
* Feature/bugfix development
  * Branch out from the release branch
  * Once development finished, merge the feature branch to trunk for testing
  * Once testing passed, merge the feature branch to the release branch
* Hotfix development
  * Branch out from the latest released tag
  * Once development finished, merge the hotfix branch to trunk for testing
  * Once testing passed, create a tag from the hotfix branch and release the tag
* Release
  * When we decide to make a new release, do regression test against the latest release branch
  * Once test passed, create a tag from the release branch and release the tag

![Workflow](./2.workflow.drawio.svg)
